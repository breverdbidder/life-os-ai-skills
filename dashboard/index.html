<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life OS Dashboard - Shapira Family</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --ariel: #8b5cf6;
            --michael: #3b82f6;
            --family: #10b981;
            --business: #f59e0b;
        }
        body { 
            background: linear-gradient(135deg, #0c0c14 0%, #1a1a2e 50%, #0f172a 100%); 
            min-height: 100vh;
            font-family: 'Inter', system-ui, sans-serif;
        }
        .glass { 
            background: rgba(20, 20, 35, 0.85); 
            backdrop-filter: blur(12px); 
            border: 1px solid rgba(139, 92, 246, 0.15);
        }
        .glass-light { background: rgba(30, 30, 50, 0.6); }
        .glow { box-shadow: 0 0 30px rgba(139, 92, 246, 0.2); }
        .glow-blue { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
        .glow-green { box-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
        .life-text { 
            background: linear-gradient(135deg, #8b5cf6, #3b82f6, #10b981); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent;
        }
        .status-active { background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.5); color: #10b981; }
        .status-pending { background: rgba(245, 158, 11, 0.2); border: 1px solid rgba(245, 158, 11, 0.5); color: #f59e0b; }
        .status-completed { background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.5); color: #3b82f6; }
        .domain-ariel { border-left: 4px solid var(--ariel); }
        .domain-michael { border-left: 4px solid var(--michael); }
        .domain-family { border-left: 4px solid var(--family); }
        .domain-business { border-left: 4px solid var(--business); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(139, 92, 246, 0.2); }
        .timeline-dot { width: 12px; height: 12px; border-radius: 50%; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="text-gray-100">
    <div class="container mx-auto px-4 py-6 max-w-7xl">
        
        <!-- Header -->
        <div class="glass rounded-2xl p-5 mb-6 glow">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-2xl">
                        üß†
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold life-text">Life OS Dashboard</h1>
                        <p class="text-gray-400 text-sm">Shapira Family ‚Ä¢ ADHD-Optimized Tracking</p>
                    </div>
                </div>
                <div class="flex items-center gap-6">
                    <div class="text-right">
                        <div id="current-date" class="text-lg font-semibold text-white"></div>
                        <div class="flex items-center gap-2 text-sm text-gray-400">
                            <span>üïê FL:</span>
                            <span id="time-fl" class="font-mono text-purple-400"></span>
                            <span class="mx-1">|</span>
                            <span>IL:</span>
                            <span id="time-il" class="font-mono text-blue-400"></span>
                        </div>
                    </div>
                    <div id="status-indicator" class="flex items-center gap-2 px-3 py-1 rounded-full bg-green-900/30 border border-green-500/30">
                        <span class="w-2 h-2 rounded-full bg-green-400 pulse"></span>
                        <span class="text-xs text-green-400">Live</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Current Location / Travel Banner -->
        <div id="travel-banner" class="glass rounded-xl p-4 mb-6 border-l-4 border-blue-500 glow-blue hidden">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div class="flex items-center gap-4">
                    <div class="text-3xl">üöó</div>
                    <div>
                        <div class="text-sm text-blue-400 uppercase tracking-wide">Current Travel</div>
                        <div id="travel-route" class="text-lg font-semibold"></div>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-400" id="travel-distance">--</div>
                        <div class="text-xs text-gray-400">miles</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-purple-400" id="travel-time">--</div>
                        <div class="text-xs text-gray-400">drive</div>
                    </div>
                    <span id="travel-status" class="status-active px-3 py-1 rounded-full text-xs font-medium"></span>
                </div>
            </div>
        </div>

        <!-- Quick Stats Row -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="glass rounded-xl p-4 card-hover domain-ariel">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center">
                        <i class="fas fa-user text-purple-400"></i>
                    </div>
                    <div>
                        <div class="text-xs text-gray-400 uppercase">Ariel</div>
                        <div id="ariel-tasks" class="text-xl font-bold text-purple-400">-</div>
                    </div>
                </div>
            </div>
            <div class="glass rounded-xl p-4 card-hover domain-michael">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center">
                        <i class="fas fa-swimmer text-blue-400"></i>
                    </div>
                    <div>
                        <div class="text-xs text-gray-400 uppercase">Michael</div>
                        <div id="michael-tasks" class="text-xl font-bold text-blue-400">-</div>
                    </div>
                </div>
            </div>
            <div class="glass rounded-xl p-4 card-hover domain-family">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center">
                        <i class="fas fa-home text-green-400"></i>
                    </div>
                    <div>
                        <div class="text-xs text-gray-400 uppercase">Family</div>
                        <div id="family-tasks" class="text-xl font-bold text-green-400">-</div>
                    </div>
                </div>
            </div>
            <div class="glass rounded-xl p-4 card-hover domain-business">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center">
                        <i class="fas fa-briefcase text-orange-400"></i>
                    </div>
                    <div>
                        <div class="text-xs text-gray-400 uppercase">Business</div>
                        <div id="business-tasks" class="text-xl font-bold text-orange-400">-</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            
            <!-- Left Column - Today's Schedule -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Today's Tasks -->
                <div class="glass rounded-xl p-5 card-hover">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold life-text flex items-center gap-2">
                            <i class="fas fa-tasks"></i> Today's Schedule
                        </h2>
                        <span class="text-xs text-gray-400" id="task-count">0 items</span>
                    </div>
                    <div id="tasks-timeline" class="space-y-3 max-h-96 overflow-y-auto scrollbar-hide">
                        <div class="text-gray-500 text-center py-8">Loading...</div>
                    </div>
                </div>

                <!-- Michael's Swim Meet -->
                <div id="swim-meet-card" class="glass rounded-xl p-5 card-hover domain-michael hidden">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold text-blue-400 flex items-center gap-2">
                            <i class="fas fa-swimmer"></i> Michael's Swim Meet
                        </h2>
                        <span id="swim-status" class="status-active px-3 py-1 rounded-full text-xs font-medium"></span>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="glass-light rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">üìç</div>
                            <div class="text-xs text-gray-400">Location</div>
                            <div id="swim-location" class="text-sm font-medium text-white">--</div>
                        </div>
                        <div class="glass-light rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">üìÖ</div>
                            <div class="text-xs text-gray-400">Date</div>
                            <div id="swim-date" class="text-sm font-medium text-white">--</div>
                        </div>
                        <div class="glass-light rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">üèä</div>
                            <div class="text-xs text-gray-400">Events</div>
                            <div id="swim-events" class="text-sm font-medium text-white">--</div>
                        </div>
                        <div class="glass-light rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">üéØ</div>
                            <div class="text-xs text-gray-400">Goal</div>
                            <div id="swim-goal" class="text-sm font-medium text-green-400">--</div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Right Column - Info Cards -->
            <div class="space-y-6">
                
                <!-- Hotel Reservation -->
                <div id="hotel-card" class="glass rounded-xl p-5 card-hover glow-green hidden">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center text-2xl">
                            üè®
                        </div>
                        <div>
                            <div class="text-xs text-green-400 uppercase">Hotel Reservation</div>
                            <div id="hotel-name" class="text-lg font-semibold">--</div>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">Location</span>
                            <span id="hotel-location" class="text-white">--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Check-in</span>
                            <span id="hotel-checkin" class="text-green-400">--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Check-out</span>
                            <span id="hotel-checkout" class="text-white">--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Guests</span>
                            <span id="hotel-guests" class="text-white">--</span>
                        </div>
                        <div class="flex justify-between items-center pt-2 border-t border-gray-700">
                            <span class="text-gray-400">Status</span>
                            <span id="hotel-status" class="status-active px-2 py-0.5 rounded text-xs">--</span>
                        </div>
                    </div>
                </div>

                <!-- Shabbat Prep -->
                <div id="shabbat-card" class="glass rounded-xl p-5 card-hover domain-family hidden">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center text-2xl">
                            üïØÔ∏è
                        </div>
                        <div>
                            <div class="text-xs text-amber-400 uppercase">Shabbat Prep</div>
                            <div id="shabbat-date" class="text-lg font-semibold">--</div>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">Candle Lighting</span>
                            <span id="shabbat-candles" class="text-amber-400 font-medium">--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Menu Planned</span>
                            <span id="shabbat-menu" class="text-white">--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Shopping Done</span>
                            <span id="shabbat-shopping" class="text-white">--</span>
                        </div>
                    </div>
                </div>

                <!-- Health & Energy -->
                <div class="glass rounded-xl p-5 card-hover domain-ariel">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center text-2xl">
                            üí™
                        </div>
                        <div>
                            <div class="text-xs text-purple-400 uppercase">Ariel's Status</div>
                            <div class="text-lg font-semibold">Health & Energy</div>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">Energy Level</span>
                                <span id="energy-value" class="text-purple-400">--</span>
                            </div>
                            <div class="h-2 bg-gray-700 rounded-full overflow-hidden">
                                <div id="energy-bar" class="h-full bg-gradient-to-r from-purple-500 to-blue-500 transition-all duration-500" style="width: 0%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">Focus Quality</span>
                                <span id="focus-value" class="text-blue-400">--</span>
                            </div>
                            <div class="h-2 bg-gray-700 rounded-full overflow-hidden">
                                <div id="focus-bar" class="h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="flex justify-between text-sm pt-2 border-t border-gray-700">
                            <span class="text-gray-400">Sleep</span>
                            <span id="sleep-hours" class="text-white">-- hrs</span>
                        </div>
                    </div>
                </div>

                <!-- Michael's Nutrition -->
                <div id="nutrition-card" class="glass rounded-xl p-5 card-hover domain-michael hidden">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center text-2xl">
                            ü•ó
                        </div>
                        <div>
                            <div class="text-xs text-blue-400 uppercase">Michael's Nutrition</div>
                            <div id="diet-mode" class="text-lg font-semibold">--</div>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">Hydration Goal</span>
                            <span id="hydration-goal" class="text-blue-400">--</span>
                        </div>
                        <div id="nutrition-meals" class="pt-2 border-t border-gray-700">
                            <div class="text-gray-400 text-xs mb-2">Meals Planned</div>
                            <div id="meals-list" class="space-y-1"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-gray-500 text-sm py-4">
            <p>Life OS v2.0 ‚Ä¢ Created by <span class="text-purple-400">Ariel Shapira</span></p>
            <p class="text-xs mt-1">Home: 390 Roosevelt Ave, Satellite Beach, FL 32937</p>
        </div>
    </div>

    <script>
        const SUPABASE_URL = 'https://mocerqjnksmhcjzxrewo.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vY2VycWpua3NtaGNqenhyZXdvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MzI1MjYsImV4cCI6MjA4MDEwODUyNn0.ySFJIOngWWB0aqYra4PoGFuqcbdHOx1ZV6T9-klKQDw';
        
        const headers = {
            'apikey': SUPABASE_KEY,
            'Authorization': `Bearer ${SUPABASE_KEY}`,
            'Content-Type': 'application/json'
        };

        // Update time displays
        function updateTime() {
            const now = new Date();
            const flTime = now.toLocaleTimeString('en-US', { timeZone: 'America/New_York', hour: '2-digit', minute: '2-digit' });
            const ilTime = now.toLocaleTimeString('en-US', { timeZone: 'Asia/Jerusalem', hour: '2-digit', minute: '2-digit' });
            const dateStr = now.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' });
            
            document.getElementById('time-fl').textContent = flTime;
            document.getElementById('time-il').textContent = ilTime;
            document.getElementById('current-date').textContent = dateStr;
        }

        // Domain icons and colors
        const domainConfig = {
            'ARIEL': { icon: 'fa-user', color: 'purple', emoji: 'üë§' },
            'MICHAEL': { icon: 'fa-swimmer', color: 'blue', emoji: 'üèä' },
            'FAMILY': { icon: 'fa-home', color: 'green', emoji: 'üë®‚Äçüë©‚Äçüë¶' },
            'BUSINESS': { icon: 'fa-briefcase', color: 'orange', emoji: 'üíº' }
        };

        const activityIcons = {
            'travel': 'üöó',
            'hotel': 'üè®',
            'swim_meet': 'üèä',
            'nutrition': 'ü•ó',
            'health_log': 'üí™',
            'shabbat': 'üïØÔ∏è',
            'business': 'üíº',
            'task': 'üìã'
        };

        async function fetchData() {
            try {
                // Fetch all life_os activities
                const res = await fetch(
                    `${SUPABASE_URL}/rest/v1/activities?platform=eq.life_os&order=created_at.desc&limit=50`,
                    { headers }
                );
                const activities = await res.json();
                
                // Process data
                const domainCounts = { ARIEL: 0, MICHAEL: 0, FAMILY: 0, BUSINESS: 0 };
                const tasks = [];
                let travelData = null;
                let hotelData = null;
                let swimMeetData = null;
                let nutritionData = null;
                let healthData = null;
                let shabbatData = null;

                activities.forEach(a => {
                    try {
                        const data = JSON.parse(a.notes || '{}');
                        data._activity_type = a.activity_type;
                        data._domain = a.domain;
                        data._created = a.created_at;
                        
                        domainCounts[a.domain] = (domainCounts[a.domain] || 0) + 1;

                        // Categorize by type
                        switch(a.activity_type) {
                            case 'travel':
                                if (!travelData) travelData = data;
                                break;
                            case 'hotel':
                                if (!hotelData) hotelData = data;
                                break;
                            case 'swim_meet':
                                if (!swimMeetData) swimMeetData = data;
                                break;
                            case 'nutrition':
                                if (!nutritionData) nutritionData = data;
                                break;
                            case 'health_log':
                                if (!healthData) healthData = data;
                                break;
                            case 'shabbat':
                                if (!shabbatData) shabbatData = data;
                                break;
                            case 'task':
                            case 'business':
                                tasks.push(data);
                                break;
                        }
                    } catch(e) {}
                });

                // Update domain counts
                document.getElementById('ariel-tasks').textContent = domainCounts.ARIEL;
                document.getElementById('michael-tasks').textContent = domainCounts.MICHAEL;
                document.getElementById('family-tasks').textContent = domainCounts.FAMILY;
                document.getElementById('business-tasks').textContent = domainCounts.BUSINESS;

                // Render Travel Banner
                if (travelData) {
                    const banner = document.getElementById('travel-banner');
                    banner.classList.remove('hidden');
                    document.getElementById('travel-route').textContent = `${travelData.from?.split(',')[0] || 'Home'} ‚Üí ${travelData.to || 'Destination'}`;
                    document.getElementById('travel-distance').textContent = travelData.distance?.replace(' miles', '') || '--';
                    document.getElementById('travel-time').textContent = travelData.drive_time || '--';
                    document.getElementById('travel-status').textContent = travelData.status || 'active';
                }

                // Render Hotel Card
                if (hotelData) {
                    const card = document.getElementById('hotel-card');
                    card.classList.remove('hidden');
                    document.getElementById('hotel-name').textContent = hotelData.title || 'Hotel';
                    document.getElementById('hotel-location').textContent = hotelData.location || '--';
                    document.getElementById('hotel-checkin').textContent = hotelData.check_in || '--';
                    document.getElementById('hotel-checkout').textContent = hotelData.check_out || '--';
                    document.getElementById('hotel-guests').textContent = hotelData.guests?.join(', ') || '--';
                    document.getElementById('hotel-status').textContent = hotelData.status || 'confirmed';
                }

                // Render Swim Meet Card
                if (swimMeetData) {
                    const card = document.getElementById('swim-meet-card');
                    card.classList.remove('hidden');
                    document.getElementById('swim-location').textContent = swimMeetData.location || '--';
                    document.getElementById('swim-date').textContent = swimMeetData.date || '--';
                    document.getElementById('swim-events').textContent = swimMeetData.events?.join(', ') || '--';
                    document.getElementById('swim-goal').textContent = swimMeetData.goals || '--';
                    document.getElementById('swim-status').textContent = swimMeetData.status || 'registered';
                }

                // Render Nutrition Card
                if (nutritionData) {
                    const card = document.getElementById('nutrition-card');
                    card.classList.remove('hidden');
                    document.getElementById('diet-mode').textContent = (nutritionData.diet_mode || 'standard').toUpperCase() + ' Mode';
                    document.getElementById('hydration-goal').textContent = nutritionData.hydration_goal || '--';
                    
                    const mealsList = document.getElementById('meals-list');
                    mealsList.innerHTML = (nutritionData.meals_planned || []).map(m => 
                        `<div class="text-xs text-gray-300">‚Ä¢ ${m}</div>`
                    ).join('');
                }

                // Render Health Data
                if (healthData) {
                    document.getElementById('energy-value').textContent = healthData.energy_level + '/10';
                    document.getElementById('energy-bar').style.width = (healthData.energy_level * 10) + '%';
                    document.getElementById('focus-value').textContent = healthData.focus_quality + '/10';
                    document.getElementById('focus-bar').style.width = (healthData.focus_quality * 10) + '%';
                    document.getElementById('sleep-hours').textContent = healthData.sleep_hours + ' hrs';
                }

                // Render Shabbat Card
                if (shabbatData) {
                    const card = document.getElementById('shabbat-card');
                    card.classList.remove('hidden');
                    document.getElementById('shabbat-date').textContent = shabbatData.date || '--';
                    document.getElementById('shabbat-candles').textContent = shabbatData.candle_lighting || '--';
                    document.getElementById('shabbat-menu').textContent = shabbatData.menu_planned ? '‚úÖ Yes' : '‚ùå No';
                    document.getElementById('shabbat-shopping').textContent = shabbatData.shopping_done ? '‚úÖ Yes' : '‚ùå No';
                }

                // Render Tasks Timeline
                const timeline = document.getElementById('tasks-timeline');
                const allItems = [
                    ...(travelData ? [travelData] : []),
                    ...(hotelData ? [hotelData] : []),
                    ...(swimMeetData ? [swimMeetData] : []),
                    ...tasks
                ];

                document.getElementById('task-count').textContent = allItems.length + ' items';

                timeline.innerHTML = allItems.map(item => {
                    const domain = item._domain || 'ARIEL';
                    const type = item._activity_type || 'task';
                    const icon = activityIcons[type] || 'üìã';
                    const config = domainConfig[domain] || domainConfig.ARIEL;
                    const status = item.status || 'pending';
                    const statusClass = status === 'in_progress' ? 'status-active' : status === 'completed' ? 'status-completed' : 'status-pending';
                    
                    return `
                        <div class="glass-light rounded-lg p-3 flex items-center gap-3 domain-${domain.toLowerCase()}">
                            <div class="text-2xl">${icon}</div>
                            <div class="flex-1 min-w-0">
                                <div class="font-medium text-white truncate">${item.title || 'Untitled'}</div>
                                <div class="text-xs text-gray-400 flex items-center gap-2">
                                    <span class="text-${config.color}-400">${domain}</span>
                                    ${item.category ? `<span>‚Ä¢ ${item.category}</span>` : ''}
                                </div>
                            </div>
                            <span class="${statusClass} px-2 py-0.5 rounded text-xs whitespace-nowrap">${status}</span>
                        </div>
                    `;
                }).join('') || '<div class="text-gray-500 text-center py-8">No items for today</div>';

            } catch(e) {
                console.error('Fetch error:', e);
                document.getElementById('status-indicator').innerHTML = `
                    <span class="w-2 h-2 rounded-full bg-red-400"></span>
                    <span class="text-xs text-red-400">Error</span>
                `;
            }
        }

        // Initialize
        updateTime();
        setInterval(updateTime, 1000);
        fetchData();
        setInterval(fetchData, 30000);
    </script>
</body>
</html>
